openapi: 3.0.0
info:
  version: 1.2.4
  title: QED-it - Asset Transfers
security:
  - ApiKeyAuth: []
servers:
  - url: http://{server_url}:12052
    variables:
      server_url:
        default: localhost
paths:
  /wallet/get_balances:
    post:
      tags:
        - Wallet
      summary: Get wallets balance
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GetWalletBalanceRequest'
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetWalletBalanceResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /wallet/issue_asset:
    post:
      tags:
        - Wallet
      summary: Issue assets [async call]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/IssueAssetRequest'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AsyncTaskCreatedResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /wallet/transfer_asset:
    post:
      tags:
        - Wallet
      summary: Transfer assets [async call]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TransferAssetRequest'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AsyncTaskCreatedResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /wallet/get_new_address:
    post:
      tags:
        - Wallet
      summary: Get a new address from a given diversifier or generate randomly
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GetNewAddressRequest'
      responses:
        '201':
          description: Success/Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetNewAddressResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /wallet/get_public_key:
    post:
      tags:
        - Wallet
      summary: Get wallet public key
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GetPublicKeyRequest'
      responses:
        '201':
          description: Success/Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetPublicKeyResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /wallet/create_rule:
    post:
      tags:
        - Wallet
      summary: Create & broadcast add-config-rule [async call]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateRuleRequest'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AsyncTaskCreatedResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /wallet/delete_rule:
    post:
      tags:
        - Wallet
      summary: Create & broadcast delete-config-rule [async call]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeleteRuleRequest'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AsyncTaskCreatedResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /wallet/get_activity:
    post:
      tags:
        - Wallet
      summary: Get wallet activity (transactions)
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GetActivityRequest'
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetActivityResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /analytics/get_network_activity:
    post:
      tags:
        - Analytics
      summary: Get details on past blocks
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GetNetworkActivityRequest'
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetNetworkActivityResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /node/generate_wallet:
    post:
      tags:
        - Node
      summary: Generate a new wallet
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GenerateWalletRequest'
      responses:
        '200':
          description: Success
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /node/delete_wallet:
    post:
      tags:
        - Node
      summary: Delete a wallet
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeleteWalletRequest'
      responses:
        '200':
          description: Success
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /node/import_wallet:
    post:
      tags:
        - Node
      summary: Import wallet from secret key
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ImportWalletRequest'
      responses:
        '200':
          description: Success
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /node/unlock_wallet:
    post:
      tags:
        - Node
      summary: Unlocks a wallet for a given amount of seconds [async call]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UnlockWalletRequest'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AsyncTaskCreatedResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /node/export_wallet:
    post:
      tags:
        - Node
      summary: Export wallet secret key
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ExportWalletRequest'
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExportWalletResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /node/get_rules:
    post:
      tags:
        - Node
      summary: Get network governance rules
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetRulesResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /node/get_all_wallets:
    post:
      tags:
        - Node
      summary: Get all wallet labels
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetAllWalletsResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /node/get_task_status:
    post:
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GetTaskStatusRequest'
      tags:
        - Node
      summary: Get all tasks in the node
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetTaskStatusResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
components:
  securitySchemes:
    ApiKeyAuth:
      type: apiKey
      name: x-auth-token
      in: header
  schemas:
    GetWalletBalanceRequest:
      type: object
      properties:
        wallet_id:
          type: string
      required:
        - wallet_id
      example:
        wallet_id: source_wallet
    BalanceForAsset:
      type: object
      properties:
        asset_id:
          type: integer
        amount:
          type: integer
      required:
        - asset_id
        - amount
      example:
        wallet_id: source_wallet
    GetWalletBalanceResponse:
      type: object
      properties:
        wallet_id:
          type: string
        assets:
          type: array
          items:
            $ref: '#/components/schemas/BalanceForAsset'
      required:
        - wallet_id
        - assets
      example:
        wallet_id: source_wallet
        assets:
          - asset_id: 1
            amount: 8
    TransferAssetRequest:
      type: object
      properties:
        wallet_id:
          type: string
        authorization:
          type: string
        recipient_address:
          type: string
        amount:
          type: integer
        asset_id:
          type: integer
        memo:
          type: string
      required:
        - wallet_id
        - authorization
        - recipient_address
        - amount
        - asset_id
        - memo
      example:
        wallet_id: source_wallet
        authorization: PrivacyIsAwesome
        recipient_address: q1dxlf6vap2566t8w3z8f5j5lxy9n036zfsaytjve7fedsw6w8c9q9ctrwfz6ryyjwkgvj6tjg70f
        amount: 4
        asset_id: 1
        memo: '{"recipient_name": "Dan"}'
    GetActivityRequest:
      type: object
      properties:
        wallet_id:
          type: string
        start_index:
          type: integer
        number_of_results:
          type: integer
      required:
        - wallet_id
        - start_index
        - number_of_results
      example:
        wallet_id: source_wallet
        start_index: 0
        number_of_results: 10
    TransactionsForWallet:
      type: object
      properties:
        is_incoming:
          type: boolean
        asset_id:
          type: integer
        amount:
          type: integer
        recipient_address:
          type: string
        memo:
          type: string
        id:
          type: string
      required:
        - is_incoming
        - asset_id
        - amount
        - recipient_address
        - memo
        - id
    GetActivityResponse:
      type: object
      properties:
        wallet_id:
          type: string
        transactions:
          type: array
          items:
            $ref: '#/components/schemas/TransactionsForWallet'
      required:
        - wallet_id
        - transactions
      example:
        wallet_id: source_wallet
        transactions:
          - is_incoming: true
            asset_id: 1
            amount: 8
            recipient_address: q1dxlf6vap2566t8w3z8f5j5lxy9n036zfsaytjve7fedsw6w8c9q9ctrwfz6ryyjwkgvj6tjg70f
            memo: '{"recipient_name": "Dan"}'
            id: "0xd379aa4e5e40552910c8ae456c65dcf51e9779fc9281ac2dc9e677ec810af6b1" 
    GetRulesResponse:
      type: object
      properties:
        rules:
          type: array
          items:
            $ref: '#/components/schemas/Rule'
    GetAllWalletsResponse:
      type: object
      properties:
        wallet_ids:
          type: array
          items:
            type: string
      example:
        wallet_ids:
          - Jane
          - John
          - Marty
    GetTaskStatusRequest:
      type: object
      properties:
        id:
          type: string
      required:
        - id
      example:
        id: "5aaa4045-e949-4c44-a7ef-25fb55a1afa6"
    GetTaskStatusResponse:
      type: object
      properties:
        id:
          type: string
        created_at:
          type: string
          format: date
        updated_at:
          type: string
          format: date
        result:
          type: string
        tx_hash:
          type: string
        type:
          type: string
        data:
          type: object
        error:
          type: string
      example:
        id: "5aaa4045-e949-4c44-a7ef-25fb55a1afa6"
        created_at: "2019-03-12T16:40:22"
        updated_at: "2019-03-12T16:41:17"
        result: "success"
        tx_hash: "0xd379aa4e5e40552910c8ae456c65dcf51e9779fc9281ac2dc9e677ec810af6b1"
        type: "transfer_asset"
        data: {}
    GetNetworkActivityRequest:
      type: object
      properties:
        start_index:
          type: integer
        number_of_results:
          type: integer
      required:
        - start_index
        - number_of_results
      example:
        start_index: 0
        number_of_results: 10
    # Block:
    #   type: object
    #   properties:
    #     block_hash:
    #       type: string
    #     height:
    #       type: integer
    #     transactions:
    #       type: array
    #       items:
    #         type: string
    #   required:
    #     - block_hash
    #     - height
    #     - transactions
    GetNetworkActivityResponse:
      type: object
      properties:
        transactions:
          type: array
          items:
            $ref: '#/components/schemas/AnalyticsTransaction'

    IssueAssetRequest:
      type: object
      properties:
        wallet_id:
          type: string
        authorization:
          type: string
        recipient_address:
          type: string
        amount:
          type: integer
        asset_id:
          type: integer
        confidential:
          type: boolean
        memo:
          type: string
      required:
        - wallet_id
        - authorization
        - recipient_address
        - amount
        - confidential
        - asset_id
        - memo
      example:
        wallet_id: source_wallet
        authorization: PrivacyIsAwesome
        recipient_address: q1dxlf6vap2566t8w3z8f5j5lxy9n036zfsaytjve7fedsw6w8c9q9ctrwfz6ryyjwkgvj6tjg70f
        amount: 4
        asset_id: 1
        confidential: false
        memo: '{"recipient_name": "Dan"}'
    GetNewAddressRequest:
      type: object
      properties:
        wallet_id:
          type: string
        diversifier:
          type: string
      required:
        - wallet_id
      example:
        wallet_id: source_wallet
    GetNewAddressResponse:
      type: object
      properties:
        wallet_id:
          type: string
        recipient_address:
          type: string
      required:
        - wallet_id
        - recipient_address
      example:
        wallet_id: source_wallet
        recipient_address: q1dxlf6vap2566t8w3z8f5j5lxy9n036zfsaytjve7fedsw6w8c9q9ctrwfz6ryyjwkgvj6tjg70f
    GetPublicKeyRequest:
      type: object
      properties:
        wallet_id:
          type: string
      required:
        - wallet_id
      example:
        wallet_id: source_wallet
    GetPublicKeyResponse:
      type: object
      properties:
        wallet_id:
          type: string
        public_key:
          type: string
      required:
        - wallet_id
        - public_key
      example:
        wallet_id: source_wallet
        public_key: bf45ab74bd4a46fe7a2432ba05e2f726bf4fe42a80052849e13e2541230d3204
    ImportWalletRequest:
      type: object
      properties:
        wallet_id:
          type: string
        encrypted_sk:
          type: string
        authorization:
          type: string
        salt:
          type: string
      required:
        - wallet_id
        - encrypted_sk
        - authorization
        - salt
      example:
        wallet_id: source_wallet
        encrypted_sk: 44d2836bbfcc7c69dd35dbe854d54a093be9a1be7f9d658325a8d2526f67ede16abf0d1430edab07be9b8c12070260af
        authorization: PrivacyIsAwesome
        salt: 27ca2bf75fe4c1564398459bd2f39a89645bf98aeeb1f99a9c9efa6e5c39cbfe
    ExportWalletRequest:
      type: object
      properties:
        wallet_id:
          type: string
      required:
        - wallet_id
      example:
        wallet_id: source_wallet
    ExportWalletResponse:
      type: object
      properties:
        wallet_id:
          type: string
        encrypted_sk:
          type: string
        salt:
          type: string
      required:
        - wallet_id
        - encrypted_sk
        - salt
      example:
        wallet_id: source_wallet
        encrypted_sk: 44d2836bbfcc7c69dd35dbe854d54a093be9a1be7f9d658325a8d2526f67ede16abf0d1430edab07be9b8c12070260af
        salt: 27ca2bf75fe4c1564398459bd2f39a89645bf98aeeb1f99a9c9efa6e5c39cbfe
    GenerateWalletRequest:
      type: object
      properties:
        wallet_id:
          type: string
        authorization:
          type: string
      required:
        - wallet_id
        - authorization
      example:
        wallet_id: source_wallet
        authorization: PrivacyIsAwesome
    DeleteWalletRequest:
      type: object
      properties:
        wallet_id:
          type: string
        authorization:
          type: string
      required:
        - wallet_id
        - authorization
      example:
        wallet_id: source_wallet
        authorization: PrivacyIsAwesome
    UnlockWalletRequest:
      type: object
      properties:
        wallet_id:
          type: string
        authorization:
          type: string
        seconds:
          type: integer
      required:
        - wallet_id
        - authorization
        - seconds
      example:
        wallet_id: source_wallet
        authorization: PrivacyIsAwesome
        seconds: 600
    CreateRuleRequest:
      type: object
      properties:
        wallet_id:
          type: string
        authorization:
          type: string
        rules_to_add:
          type: array
          items:
            $ref: '#/components/schemas/Rule'
      required:
        - wallet_id
        - authorization
        - rules_to_add
      example:
        wallet_id: issuer_wallet
        authorization: PrivacyIsAwesome
        rules_to_add:
          - public_key: bf45ab74bd4a46fe7a2432ba05e2f726bf4fe42a80052849e13e2541230d3204
            can_issue_confidentially: false
            can_issue_asset_id_first: 100
            can_issue_asset_id_last: 112
            is_admin: false
    DeleteRuleRequest:
      type: object
      properties:
        wallet_id:
          type: string
        authorization:
          type: string
        rules_to_delete:
          type: array
          items:
            $ref: '#/components/schemas/Rule'
      required:
        - wallet_id
        - authorization
        - rules_to_delete
      example:
        wallet_id: issuer_wallet
        authorization: PrivacyIsAwesome
        rules_to_delete:
          - public_key: bf45ab74bd4a46fe7a2432ba05e2f726bf4fe42a80052849e13e2541230d3204
            can_issue_confidentially: false
            can_issue_asset_id_first: 100
            can_issue_asset_id_last: 112
            is_admin: false
    Rule:
      type: object
      properties:
        public_key:
          type: string
        can_issue_confidentially:
          type: boolean
        can_issue_asset_id_first:
          type: integer
        can_issue_asset_id_last:
          type: integer
        is_admin:
          type: boolean
      required:
        - public_key
      example:
        public_key: bf45ab74bd4a46fe7a2432ba05e2f726bf4fe42a80052849e13e2541230d3204
        can_issue_confidentially: false
        can_issue_asset_id_first: 100
        can_issue_asset_id_last: 112
        is_admin: false
    ErrorResponse:
      type: object
      properties:
        error_code:
          type: integer
        message:
          type: string
      required:
        - error_code
      example:
        error_code: 400
        message: "error message"
    AsyncTaskCreatedResponse:
      type: object
      properties:
        id:
          type: string
      required:
        - id
      example:
        id: "70a88558-2b8b-4b63-a5b6-2c54b24377f5"



    AnalyticsTransaction:
      type: object
      properties:
        type:
          type: string
        tx_hash:
          type: string
        block_hash:
          type: string
        timestamp:
          type: string
        index_in_block:
          type: integer
        block_height:
          type: integer
        content:
          oneOf:
            - $ref: '#/components/schemas/AnalyticsIssueTx'
            - $ref: '#/components/schemas/AnalyticsTransferTx'          
            - $ref: '#/components/schemas/AnalyticsRuleTx'          

    AnalyticsIssueTx:
      type: object
      properties:
        outputs:
          $ref: '#/components/schemas/AnalyticsOutput'
        public_key:
          type: string

    AnalyticsTransferTx:
      type: object
      properties:
        asset_converter_descriptions:
          $ref: '#/components/schemas/AnalyticsAssetConverterProofDescription'
        spends:
          type: array
          items:
            $ref: '#/components/schemas/AnalyticsSpendDescription'
        outputs:
          type: array
          items:
            $ref: '#/components/schemas/AnalyticsOutputDescription'

    AnalyticsRuleTx:
      type: object
      properties:
        sender_public_key:
          type: string
        rules_to_add:
          $ref: '#/components/schemas/AnalyticsRuleDefinition'
        rules_to_delete:
          $ref: '#/components/schemas/AnalyticsRuleDefinition'

    AnalyticsRuleDefinition:
      type: object
      properties:
        public_key:
          type: string
        can_issue_confidentially:
          type: boolean
        is_admin:
          type: boolean
        can_issue_asset_id_first:
          type: integer
        can_issue_asset_id_last:
          type: integer
      example:
        public_key: "AAAAAAAAAA=="
        can_issue_confidentially: true
        is_admin: true
        can_issue_asset_id_first: 11
        can_issue_asset_id_last: 20

    AnalyticsOutput:
      type: object
      properties:
        output_description:
          $ref: '#/components/schemas/AnalyticsOutputDescription'
        asset_id:
          type: integer
        amount:
          type: integer
        confidential_issuance_description:
          $ref: '#/components/schemas/AnalyticsConfidentialIssuanceDescription'
        is_confidential:
          type: boolean
      # example:
      #   asset_cv: "AAAAAAAAAAA="
      #   amount_cv: "AAAAAAAAAAA="
      #   input_cv: "AAAAAAAAAAA="
      #   zkproof: "000AAAAAAA="

    AnalyticsAssetConverterProofDescription:
      type: object
      properties:
        input_cv:
          type: string
        amount_cv:
          type: string
        asset_cv:
          type: string
        zkproof:
          type: string
      example:
        asset_cv: "AAAAAAAAAAA="
        amount_cv: "AAAAAAAAAAA="
        input_cv: "AAAAAAAAAAA="
        zkproof: "000AAAAAAA="

    AnalyticsSpendDescription:
      type: object
      properties:
        cv:
          type: string
        anchor:
          type: string
        nullifier:
          type: string
        rk_out:
          type: string
        zkproof:
          type: string
        spend_auth_sig:
          type: string
      example:
        cv: "AAAAAAAAAAA="
        anchor: "AAAAAAAAAAA="
        nullifier: "AAAAAAAAAAA="
        zkproof: "000AAAAAAA="
        rk_out: "AAAAAAAAAAA="
        spend_auth_sig: "AAAAAAAAAAA="

    AnalyticsOutputDescription:
      type: object
      properties:
        cv:
          type: string
        cm:
          type: string
        epk:
          type: string
        zkproof:
          type: string
        enc_note:
          type: string
        enc_sender:
          type: string
      example:
        cv: "AAAAAAAAAAA="
        cm: "000AAAAAAA="
        epk: "AAAAAAAAAAA="
        zkproof: "000AAAAAAA="
        enc_note: "AAAAAAAAAAA="
        enc_sender: "000AAAAAAA="

    AnalyticsConfidentialIssuanceDescription:
      type: object
      properties:
        input_cv:
          type: string
        zkproof:
          type: string
        rule:
          $ref: '#/components/schemas/AnalyticsRule'
      example:
        input_cv: "AAAAAAAAAAA="
        zkproof: "000AAAAAAA="
        rule:
          - min_id: 11
          - max_id: 20

    AnalyticsRule:
      type: object
      properties:
        min_id:
          type: string
        max_id:
          type: integer
      required:
        - min_id
        - max_id
      example:
        min_id: 11
        max_id: 20